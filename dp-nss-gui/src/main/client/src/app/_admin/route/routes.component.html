<div class="row padding-top-20">
    <div class="col-md-10">
        <h2 class="margin-top-0">Seznam spojů</h2>
    </div>
    <div class="col-md-2">
        <a [routerLink]="['/route/create']" class="btn btn-success pull-right"><i class="fa fa-plus-circle"
                                                                                  aria-hidden="true"></i> Vložit</a>
    </div>
</div>

<table class="table table-striped table-bordered">
    <thead class="sorting-head">
    <tr>
        <th>ID
            <span class="sort-icon pull-right">
                    <i class="fa fa-sort-amount-asc{{orderColumn === 'id' && orderAsc ? ' bold' : ''}}"
                       aria-hidden="true" (click)="setOrder('id', true)"></i>
                    <i class="fa fa-sort-amount-desc{{orderColumn === 'id' && !orderAsc ? ' bold' : ''}}"
                       aria-hidden="true" (click)="setOrder('id', false)"></i>
                </span>
        </th>
        <th>Název
            <span class="sort-icon pull-right">
                    <i class="fa fa-sort-amount-asc{{orderColumn === 'shortName' && orderAsc ? ' bold' : ''}}"
                       aria-hidden="true" (click)="setOrder('shortName', true)"></i>
                    <i class="fa fa-sort-amount-desc{{orderColumn === 'shortName' && !orderAsc ? ' bold' : ''}}"
                       aria-hidden="true" (click)="setOrder('shortName', false)"></i>
                </span>
        </th>
        <th>Označení
            <span class="sort-icon pull-right">
                    <i class="fa fa-sort-amount-asc{{orderColumn === 'longName' && orderAsc ? ' bold' : ''}}"
                       aria-hidden="true" (click)="setOrder('longName', true)"></i>
                    <i class="fa fa-sort-amount-desc{{orderColumn === 'longName' && !orderAsc ? ' bold' : ''}}"
                       aria-hidden="true" (click)="setOrder('longName', false)"></i>
                </span>
        </th>
        <th>Typ
            <span class="sort-icon pull-right">
                    <i class="fa fa-sort-amount-asc{{orderColumn === 'typeCode' && orderAsc ? ' bold' : ''}}"
                       aria-hidden="true" (click)="setOrder('typeCode', true)"></i>
                    <i class="fa fa-sort-amount-desc{{orderColumn === 'typeCode' && !orderAsc ? ' bold' : ''}}"
                       aria-hidden="true" (click)="setOrder('typeCode', false)"></i>
                </span>
        </th>
        <th>Barva
            <span class="sort-icon pull-right">
                    <i class="fa fa-sort-amount-asc{{orderColumn === 'color' && orderAsc ? ' bold' : ''}}"
                       aria-hidden="true" (click)="setOrder('color', true)"></i>
                    <i class="fa fa-sort-amount-desc{{orderColumn === 'color' && !orderAsc ? ' bold' : ''}}"
                       aria-hidden="true" (click)="setOrder('color', false)"></i>
                </span>
        </th>
        <th>Dopravce
            <span class="sort-icon pull-right">
                    <i class="fa fa-sort-amount-asc{{orderColumn === 'agencyId' && orderAsc ? ' bold' : ''}}"
                       aria-hidden="true" (click)="setOrder('agencyId', true)"></i>
                    <i class="fa fa-sort-amount-desc{{orderColumn === 'agencyId' && !orderAsc ? ' bold' : ''}}"
                       aria-hidden="true" (click)="setOrder('agencyId', false)"></i>
                </span>
        </th>
        <th class="align-center">Akce</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td><input type="text" class="form-control" name="id" id="id" [(ngModel)]="filter.id" placeholder="id..."
                   (keyup.enter)="doFilter()"/></td>
        <td><input type="text" class="form-control" name="shortName" id="shortName" [(ngModel)]="filter.shortName"
                   placeholder="název..." (keyup.enter)="doFilter()"/></td>
        <td><input type="text" class="form-control" name="longName" id="longName" [(ngModel)]="filter.longName"
                   placeholder="označení..." (keyup.enter)="doFilter()"/></td>
        <td>
            <select class="form-control" id="typeCode" name="typeCode" [(ngModel)]="filter.typeCode"
                    (keyup.enter)="doFilter()">
                <option *ngFor="let option of routeTypeOptions" [value]="option.code">{{option.title}}</option>
            </select>
        </td>
        <td><input type="text" class="form-control" name="color" id="color" [(ngModel)]="filter.color"
                   placeholder="barva..." (keyup.enter)="doFilter()"/></td>
        <td>
            <select class="form-control" id="agency" name="agency" [(ngModel)]="filter.agencyId"
                    (keyup.enter)="doFilter()">
                <option *ngFor="let option of agenciesForSelectBox" [value]="option.id">{{option.name}}</option>
            </select>
        </td>
        <td class="align-center">
            <button class="btn btn-warning" (click)="doFilter()"><i class="fa fa-filter" aria-hidden="true"></i>
            </button>
        </td>
    </tr>
    <tr *ngFor="let route of routes">
        <td>{{route.id}}</td>
        <td>{{route.shortName}}</td>
        <td>{{route.longName}}</td>
        <td>{{route.typeCode | routeType}}</td>
        <td>{{route.color}}</td>
        <td>{{route.agencyName}}</td>
        <td class="align-center">
            <button class="btn btn-warning" (click)="goToDetail(route)"><i class="fa fa-pencil"></i></button>
        </td>
    </tr>
    </tbody>
</table>

<pager-component [component]="this" [pager]="pager"></pager-component>
